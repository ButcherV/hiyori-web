.container {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 0px 16px 32px 16px;
  background-color: #f8fafc;
  overflow: hidden;
}

.stage {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  position: relative; /* ä¸ºåº•éƒ¨ note çš„å®šä½åšå‡†å¤‡ */
  padding-bottom: 32px;
}

/* --- 100 å•ä½“ --- */
.singleModeContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  width: 100%;
}

.singleKanji {
  font-size: 88px;
  font-weight: 900;
  color: #1e293b;
  line-height: 1;
  height: 88px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.singleDrumWindow {
  height: 64px;
  min-width: 140px;
  background: #ffffff;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.02),
    0 4px 6px -1px rgba(0, 0, 0, 0.05);
  border: 1px solid #f1f5f9;
  display: flex;
  align-items: center;
  justify-content: center;
}

.staticCell {
  font-size: 38px;
  font-weight: 800;
  color: #64748b;
}

/* --- 200+ åŒä½“ --- */
.splitModeContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  width: 100%;
}

/* æ±‰å­—éƒ¨åˆ† */
.kanjiRow {
  display: flex;
  align-items: center;
  font-size: 88px;
  font-weight: 900;
  color: #1e293b;
  line-height: 1;
}

.kanjiWindow {
  height: 88px;
  min-width: 100px;
  overflow: hidden;
  position: relative;
}

.kanjiReel {
  display: flex;
  flex-direction: column;
}

.kanjiCell {
  height: 88px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 4px;
}

.kanjiRight {
  text-align: left;
  min-width: 100px;
  padding-left: 4px;
}

.ghostText {
  color: #e2e8f0;
  opacity: 0.5;
}

/* --- ğŸ”´ ç½—é©¬éŸ³ + å–‡å­å¸ƒå±€ --- */

.romajiWrapper {
  height: 32px;
  width: 100%;
  position: relative;
  /* è¿™é‡Œä¸éœ€è¦ flexï¼Œå› ä¸º flex äº¤ç»™å†…éƒ¨çš„ motion div äº† */
  margin-bottom: 8px;
}

.romajiMotionContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px; /* æ–‡å­—å’Œå–‡å­çš„é—´è· */

  /* ç¡®ä¿å®ƒåœ¨æœ€ä¸Šå±‚ï¼Œé˜²æ­¢è¢«é®æŒ¡ */
  z-index: 5;
}

/* ğŸŸ¢ ä¿®æ­£ï¼šç½—é©¬éŸ³æ–‡å­— */
/* åˆ æ‰ absoluteï¼å›å½’æ ‡å‡†æµï¼Œè¿™æ ·å–‡å­æ‰çŸ¥é“ä½ åœ¨å“ª */
.romajiText {
  font-size: 24px;
  color: var(--color-Blue);
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: lowercase;
  /* é˜²æ­¢æ–‡å­—æ¢è¡Œç ´åå¸ƒå±€ */
  white-space: nowrap;
}

/* ğŸŸ¢ ä¿®æ­£ï¼šå–‡å­å›¾æ ‡ */
.speakerIcon {
  color: var(--color-Gray6);
  cursor: pointer;
  /* åˆ æ‰ absoluteï¼è®©å®ƒè‡ªç„¶è·Ÿéšæ–‡å­— */
  display: flex;
  align-items: center;
  transition: transform 0.1s;
}

.speakerIcon:active {
  transform: scale(0.9);
}

/* ä¼˜åŒ–æ–¹æ¡ˆï¼šå¦‚æœæ–‡å­—é•¿åº¦ä¸å›ºå®šï¼Œè¿˜æ˜¯ç”¨ Flex æ¯”è¾ƒå¥½ã€‚
   æˆ‘ä»¬åœ¨ TSX é‡ŒæŠŠ romaji å’Œ speaker åŒ…åœ¨ä¸€ä¸ª div é‡Œï¼Œ
   æˆ–è€…è®© romajiWrapper å°±æ˜¯ flex centerã€‚
   ä¸‹é¢æ˜¯é…åˆ TSX ä¿®æ”¹åçš„ Flex æ–¹æ¡ˆï¼š
*/
.romajiContent {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  /* è¿™ä¸ªå®¹å™¨ç”¨æ¥åŒ…è£¹ æ–‡å­—+å–‡å­ï¼Œä½œä¸ºæ•´ä½“è¿›å‡ºåœº */
}

/* ----------------------------- */

/* --- æ»šåŠ¨éƒ¨åˆ† --- */
.drumsContainer {
  display: flex;
  gap: 12px; /* åŠ å¤§é—´è· */
  align-items: flex-start;
}

/* ğŸŸ¢ æ–°å¢ï¼šåˆ—å®¹å™¨ (åŒ…è£¹ ScrollWindow å’Œä¸‹æ–¹çš„æç¤ºè¯) */
.columnWrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  width: 130px; /* å’Œ scrollWindow åŒå®½ */
}

/* æ»šåŠ¨çª—å£ï¼š3D èˆå° */
.scrollWindow {
  height: 64px;
  width: 100%; /* æ’‘æ»¡ columnWrapper */
  background: #ffffff;
  border-radius: 12px;
  position: relative;
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.02),
    0 4px 6px -1px rgba(0, 0, 0, 0.05);
  border: 1px solid #f1f5f9;

  perspective: 800px;
  overflow: hidden;
}

/* æ»šåŠ¨å•å…ƒæ ¼ */
.cellAbsolute {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  font-size: 38px;
  font-weight: 800;
  color: #64748b;
  padding: 0 12px;
}

.cellReelItem {
  height: 64px;
  width: 100%;
  display: flex;
  align-items: center;
  font-size: 38px;
  font-weight: 800;
  color: #64748b;
  padding: 0 12px;
}

.alignLeft {
  justify-content: flex-start;
}
.alignRight {
  justify-content: flex-end;
}

/* ç¿»è½¬åŠ¨æ•ˆæ ·å¼ */
.flipperContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 20;
  pointer-events: none;
  transform-style: preserve-3d;
}

.flipFace {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  background-color: #ffffff;
  font-size: 38px;
  font-weight: 800;
  padding: 0 12px;
  backface-visibility: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.flipFaceOld {
  color: #64748b;
  z-index: 1;
}

.flipFaceNew {
  color: var(--color-error);
  z-index: 2;
  background-color: var(--color-weak-bg);
}

/* æ¼”åŒ–æç¤ºè¯ (æ”¾åœ¨ ScrollWindow ä¸‹é¢) */
.evolutionHint {
  height: 20px;
  font-size: 14px;
  color: var(--color-Gray7);
  font-weight: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
}

.evolutionArrow {
  margin: 0 4px;
  color: var(--color-Gray7);
}

.evolutionHigh {
  color: var(--color-error);
  font-weight: 900;
}

/* åº•éƒ¨è§£é‡Š Note */
.noteContainer {
  position: absolute;
  bottom: 0; /* è´´åœ¨ Stage åº•éƒ¨ */
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  padding-bottom: 24px;
}

.noteBadge {
  background-color: var(--color-Gray2);
  color: var(--color-Gray8);
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
  text-align: center;
  border: 1px dashed var(--color-Gray4);
  max-width: 90%;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);
}
