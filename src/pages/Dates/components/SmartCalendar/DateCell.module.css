/* src/pages/Dates/components/SmartCalendar/DateCell.module.css */

/* === åŸºç¡€æ ·å¼ === */
.dayCell {
  aspect-ratio: 1;
  width: 100%;
  position: relative;

  border-radius: 8px; /* åœ†æ¶¦æ–¹å— */
  background: #f8fafc;

  cursor: pointer;
  overflow: hidden;

  /* ğŸŸ¢ ä¼˜åŒ–è¿‡æ¸¡ï¼š */
  /* 1. åˆ†åˆ«æŒ‡å®šå±æ€§ï¼Œæ€§èƒ½æ›´å¥½ */
  /* 2. transform ä½¿ç”¨è´å¡å°”æ›²çº¿ï¼Œå®ç°â€œå¾®å¼¹â€æ•ˆæœ */
  transition:
    background-color 0.2s ease,
    border-color 0.2s ease,
    box-shadow 0.2s ease,
    transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);

  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #f1f5f9;

  /* æ¶ˆé™¤ç§»åŠ¨ç«¯ç‚¹å‡»çš„é«˜äº®è‰²å—ï¼Œä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ active æ ·å¼ */
  -webkit-tap-highlight-color: transparent;
}

.dayCell:hover {
  background: white;
  border-color: #cbd5e1;
  z-index: 1;
}

/* ğŸŸ¢ æ–°å¢ï¼šæŒ‰å‹æ—¶çš„å¾®ç¼©åé¦ˆ (ç‰©ç†è§¦æ„Ÿ) */
.dayCell:active {
  transform: scale(0.95);
  transition-duration: 0.1s; /* æŒ‰ä¸‹å»è¦å¿« */
}

/* === æ°´å°æ•°å­— (é»˜è®¤çŠ¶æ€) === */
.dayNum {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  font-family: 'SF Mono', 'Menlo', 'Consolas', monospace;
  font-size: 26px;
  font-weight: 700;
  color: #64748b;
  opacity: 0.25; /* é»˜è®¤ä½œä¸ºèƒŒæ™¯çº¹ç† */

  z-index: 0;
  pointer-events: none;
  line-height: 1;
  transition: all 0.2s ease;
}

/* æ¸…æ™°æ¨¡å¼ */
.dayNum.numClear {
  opacity: 1 !important;
  color: #334155;
  font-weight: 600;
  transform: translate(-50%, -50%) scale(0.75);
}

/* === æ ‡ç­¾å®¹å™¨ === */
.tagContainer {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1px;
  transition: opacity 0.3s ease;
  padding: 0 2px;
}

.tagsHidden .tagContainer {
  opacity: 0;
}

/* åŸºç¡€æ ‡ç­¾æ–‡å­— */
.tag {
  font-family: 'Hiragino Sans', 'Noto Sans JP', sans-serif;
  font-size: 9px;
  line-height: 1.1;
  font-weight: 700;
  white-space: normal;
  word-break: break-all;
  text-align: center;
  transition: color 0.2s ease;
}

/* çŸ­æ–‡æœ¬å¤§å­—å·é€‚é… */
.tagLarge {
  font-size: 11px;
  line-height: 1.1;
  letter-spacing: -0.02em;
}

/* ä¿¡æ¯å±‚é¢œè‰² */
.tagRelative {
  color: #0284c7;
  border-left: 2px solid #0284c7;
  padding-left: 2px;
  transition: all 0.2s ease;
}
.tagHoliday {
  color: #dc2626;
  transition: color 0.2s ease;
}

/* === çŠ¶æ€ (States) === */

/* å¹½çµæ—¥ */
.dayGhost {
  opacity: 1;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 2px,
    #f1f5f9 2px,
    #f1f5f9 4px
  );
  border: 1px dashed #cbd5e1;
  pointer-events: none;
}
.dayGhost .dayNum {
  color: #cbd5e1;
  opacity: 0.4;
}

/* === ğŸŸ¢ äº¤äº’å±‚ï¼šé€‰ä¸­æ€ (æœ€é«˜ä¼˜å…ˆçº§) === */
.daySelected {
  /* ä½¿ç”¨æ·±é‚ƒçš„çš‡å®¶è“ */
  background: #1e3a8a !important;
  border-color: #1e3a8a !important;

  /* é˜´å½±åŠ é‡ä¸€ç‚¹ï¼Œå¢åŠ æ‚¬æµ®æ„Ÿ */
  box-shadow: 0 8px 20px -4px rgba(30, 58, 138, 0.4);
  z-index: 10; /* æé«˜å±‚çº§ï¼Œä¿è¯æ”¾å¤§æ—¶ä¸è¢«é®æŒ¡ */

  /* ğŸŸ¢ å¯ç”¨ç¼©æ”¾ï¼šé…åˆä¸Šé¢çš„è´å¡å°”æ›²çº¿ï¼Œä¼šæœ‰â€œå¼¹å‡ºæ¥â€çš„æ„Ÿè§‰ */
  transform: scale(1.08);
}

/* é€‰ä¸­æ—¶ï¼šæ•°å­—å¼ºåˆ¶åç™½ */
.daySelected .dayNum {
  color: white !important;
}
.daySelected .dayNum:not(.numClear) {
  opacity: 0.25;
}

/* é€‰ä¸­æ—¶ï¼šæ ‡ç­¾å¼ºåˆ¶åç™½ */
.daySelected .tag {
  color: white !important;
  text-shadow: none;
}
.daySelected .tagRelative {
  border-color: white !important;
}
