/* src/pages/Dates/components/SmartCalendar/DateCell.module.css */

.dayCell {
  aspect-ratio: 1;
  width: 100%;
  position: relative;

  border-radius: 6px;
  background: #f8fafc;

  cursor: pointer;
  overflow: hidden;
  transition: all 0.15s ease-out;

  display: flex;
  align-items: center;
  justify-content: center;

  border: 1px solid #f1f5f9;
}

.dayCell:hover {
  background: #ffffff;
  border-color: #cbd5e1;
  z-index: 1;
}

/* === æ°´å°æ•°å­— (èƒŒæ™¯) === */
.dayNum {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  font-family: 'SF Mono', 'Menlo', 'Consolas', monospace;
  font-size: 26px;
  font-weight: 700;

  /* é¢œè‰²æ¸…æ™°åŒ–ï¼Œé¿å…å¤ªæ·¡çœ‹ä¸è§ */
  color: #64748b;
  opacity: 0.25;

  z-index: 0;
  pointer-events: none;
  line-height: 1;
}

.dayRed .dayNum {
  color: #ef4444;
  opacity: 0.2;
}
.dayBlue .dayNum {
  color: #3b82f6;
  opacity: 0.2;
}

/* === æ ‡ç­¾å®¹å™¨ (å‰æ™¯) === */
.tagContainer {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1px;
  padding: 1px; /* æå°å†…è¾¹è· */
}

/* æ ‡ç­¾æ ·å¼ï¼šæ”¯æŒæŠ˜è¡Œ */
.tag {
  font-family:
    'Hiragino Sans', 'Noto Sans JP', 'Meiryo', 'Yu Gothic', sans-serif;
  font-size: 9px; /* å°å­—å· */
  line-height: 1.1; /* ç´§å‡‘è¡Œé«˜ */
  font-weight: 700;

  /* ğŸŸ¢ æ ¸å¿ƒä¿®æ”¹ï¼šå…è®¸æŠ˜è¡Œï¼Œå®Œæ•´å±•ç¤ºé•¿æ–‡å­— */
  white-space: normal;
  word-break: break-all; /* æ—¥æ–‡æŠ˜è¡Œè§„åˆ™ */
  overflow: visible; /* å³ä½¿è¶…å‡ºä¸€ä¸¢ä¸¢ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ */

  width: 100%;
  padding: 0 1px;
  text-align: center;

  /* ä¿æŒé˜´å½±ï¼Œç¡®ä¿åœ¨æ°´å°ä¸Šæ–¹æ¸…æ™°å¯è§ */
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.tagRelative {
  color: #0284c7;
  border-left: 2px solid #0284c7;
  padding-left: 2px;
}

.tagHoliday {
  color: #dc2626;
}

/* === çŠ¶æ€ (States) === */

/* å¹½çµæ—¥ (2æœˆåº•çš„29/30/31) */
.dayGhost {
  opacity: 1;
  /* è™šçº¿è¾¹æ¡† + æ¡çº¹èƒŒæ™¯ï¼Œæ¸…æ™°å±•ç¤ºâ€œè¿™é‡Œæœ‰æ ¼å­â€ */
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 2px,
    #f1f5f9 2px,
    #f1f5f9 4px
  );
  border: 1px dashed #cbd5e1;
  pointer-events: none;
}
.dayGhost .dayNum {
  color: #cbd5e1;
  opacity: 0.4;
}

/* é€‰ä¸­æ€ */
@keyframes pressDown {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.92);
  }
  100% {
    transform: scale(1);
  }
}

.daySelected {
  background: #0f172a !important;
  border-color: #0f172a !important;
  animation: pressDown 0.2s cubic-bezier(0.1, 0.7, 0.1, 1) forwards;
  box-shadow: 0 4px 12px rgba(15, 23, 42, 0.3);
  z-index: 2;
}
.daySelected .dayNum {
  color: #fff;
  opacity: 0.15;
  transform: translate(-50%, -50%) scale(1.1);
}
.daySelected .tag {
  color: #fff;
  text-shadow: 0 0 4px rgba(255, 255, 255, 0.4);
}
.daySelected .tagRelative {
  border-color: #fff;
}

/* èšç„¦æ€ */
.dayFocus {
  background: #3b82f6 !important;
  border-color: #3b82f6 !important;
  box-shadow: 0 0 16px rgba(59, 130, 246, 0.4);
  z-index: 10;
}
.dayFocus .dayNum {
  color: #fff;
  opacity: 0.25;
}
.dayFocus .tag {
  color: #fff;
}
