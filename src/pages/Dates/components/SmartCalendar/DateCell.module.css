/* src/pages/Dates/components/SmartCalendar/DateCell.module.css */

/* === åŸºç¡€æ ·å¼ (Overview Mode) === */
.dayCell {
  aspect-ratio: 1;
  width: 100%;
  position: relative;
  border-radius: 6px; /* å¹³æ—¶æ˜¯åœ†è§’æ–¹å— */
  background: #f8fafc;
  cursor: pointer;
  overflow: hidden;

  /* ğŸŸ¢ å…³é”®ï¼šå¢åŠ  border-radius å’Œ background çš„è¿‡æ¸¡ï¼Œå®ç°æ–¹å˜åœ†ã€ç™½å˜è‰²çš„åŠ¨ç”» */
  transition:
    border-radius 0.5s cubic-bezier(0.1, 0.7, 0.1, 1),
    background-color 0.4s ease,
    transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1),
    opacity 0.4s ease,
    box-shadow 0.4s ease;

  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #f1f5f9;
}

.dayCell:hover {
  background: #ffffff;
  border-color: #cbd5e1;
  z-index: 1;
}

/* === æ°´å°æ•°å­— (å¹³æ—¶) === */
.dayNum {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'SF Mono', 'Menlo', 'Consolas', monospace;
  font-size: 26px;
  font-weight: 700;
  color: #64748b;
  opacity: 0.25;
  z-index: 0;
  pointer-events: none;
  line-height: 1;
  transition: all 0.3s ease;
}

/* æ ‡ç­¾å®¹å™¨ */
.tagContainer {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1px;
  padding: 1px;
  transition: opacity 0.2s ease;
}

.tag {
  font-family: 'Hiragino Sans', 'Noto Sans JP', sans-serif;
  font-size: 9px;
  line-height: 1.1;
  font-weight: 700;
  white-space: normal;
  word-break: break-all;
  text-align: center;
}
.tagRelative {
  color: #0284c7;
  border-left: 2px solid #0284c7;
  padding-left: 2px;
}
.tagHoliday {
  color: #dc2626;
}

/* ========================================= */
/* ğŸŸ¢ å˜å½¢æ ¸å¿ƒï¼šLevel 1 Mode (Day Learning)  */
/* ========================================= */

/* 1. å½¢çŠ¶æ”¹å˜ï¼šæ–¹å— -> åœ†å½¢ */
.modeLevel1 {
  border-radius: 50% !important; /* å˜åœ† */
  border: none !important; /* å»æ‰è¾¹æ¡† */
  background: #e2e8f0; /* é»˜è®¤åº•è‰² */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); /* å¢åŠ ä¸€ç‚¹ç«‹ä½“æ„Ÿ */
}

/* 2. å†…å®¹æ”¹å˜ï¼šLevel 1 æ¨¡å¼ä¸‹ï¼ŒåŸæ¥çš„æ ‡ç­¾è¦éšè—ï¼Œæ•°å­—è¦å˜æ¸…æ™° */
.modeLevel1 .tagContainer {
  opacity: 0; /* éšè—èŠ‚æ—¥æ ‡ç­¾ */
}

.modeLevel1 .dayNum {
  opacity: 1; /* æ•°å­—å®Œå…¨æ˜¾å½¢ */
  color: #fff; /* é»˜è®¤ç™½è‰²æ–‡å­— */
  font-size: 16px; /* å­—å·è°ƒæ•´ */
  font-weight: 700;
}

/* 3. é¢œè‰²æ˜ å°„ (Level 1 çš„é…è‰²) */
/* Regular: ç° */
.type_regular.modeLevel1 {
  background: #9ca3af;
  color: white;
}
/* Trap: é»„ */
.type_trap.modeLevel1 {
  background: #facc15; /* yellow-400 */
}
.type_trap.modeLevel1 .dayNum {
  color: #713f12;
} /* æ·±è¤å­— */

/* Mutant: çº¢ */
.type_mutant.modeLevel1 {
  background: #f87171; /* red-400 */
}

/* Rune: ç´« */
.type_rune.modeLevel1 {
  background: #a78bfa; /* violet-400 */
}

/* === çŠ¶æ€ï¼šé€‰ä¸­ (Active) åœ¨ Level 1 æ¨¡å¼ä¸‹çš„è¡¨ç° === */
/* å®ç°åŸæ¥çš„ "Pure Glow" æ•ˆæœ */

.modeLevel1.daySelected {
  transform: scale(1.25); /* æ˜æ˜¾æ”¾å¤§ */
  z-index: 10;
  background: #fff !important; /* é€‰ä¸­å˜ç™½ï¼Œæ˜¾å¾—å¹²å‡€ */
  box-shadow:
    0 0 0 4px #e5e7eb,
    0 8px 16px rgba(0, 0, 0, 0.1);
}
.modeLevel1.daySelected .dayNum {
  color: #1e293b !important; /* æ–‡å­—å˜é»‘ */
  opacity: 1 !important;
}

/* å„ä¸ªé¢œè‰²çš„é€‰ä¸­å…‰æ™• */
.modeLevel1.daySelected.type_trap {
  box-shadow:
    0 0 0 4px rgba(250, 204, 21, 0.3),
    0 8px 16px rgba(250, 204, 21, 0.4);
}
.modeLevel1.daySelected.type_mutant {
  box-shadow:
    0 0 0 4px rgba(248, 113, 113, 0.3),
    0 8px 16px rgba(248, 113, 113, 0.4);
}
.modeLevel1.daySelected.type_rune {
  box-shadow:
    0 0 0 4px rgba(167, 139, 250, 0.3),
    0 8px 16px rgba(167, 139, 250, 0.4);
}

/* === çŠ¶æ€ï¼šæœªé€‰ä¸­ (Dimmed) åœ¨ Level 1 æ¨¡å¼ä¸‹ === */
/* åŸæ¥ Level 1 æ²¡æœ‰ dimï¼Œæ‰€æœ‰çƒéƒ½äº®ç€ã€‚ä½†è¿™é‡Œä¸ºäº†èšç„¦ï¼Œå¯ä»¥ç¨å¾®æ·¡ä¸€ç‚¹ç‚¹ï¼Œæˆ–è€…ä¿æŒå…¨äº® */
.modeLevel1.dayDimmed {
  opacity: 0.6; /* ç¨å¾®æš—ä¸€ç‚¹ï¼Œä½“ç°å‡ºé€‰ä¸­é¡¹ */
  transform: scale(0.9);
  filter: grayscale(0.2);
}

/* === å…¼å®¹æ—§çš„ Ghost æ ·å¼ === */
.dayGhost {
  opacity: 1;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 2px,
    #f1f5f9 2px,
    #f1f5f9 4px
  );
  border: 1px dashed #cbd5e1;
  pointer-events: none;
}
.dayGhost .dayNum {
  color: #cbd5e1;
  opacity: 0.4;
}
.modeLevel1.dayGhost {
  /* åœ¨ Level 1 æ¨¡å¼ä¸‹ï¼ŒGhost ç›´æ¥æ¶ˆå¤±ï¼Œå› ä¸ºåªè¦æ˜¾ç¤º 1-31 */
  opacity: 0;
  pointer-events: none;
}
